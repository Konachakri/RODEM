<p>user works!</p>
<h3>Create User Form</h3>
<div>
<form [formGroup]="userForm">
    <label for="">Name:</label>
    <input type="text" formControlName="name">
    <div *ngIf="userForm.get('name')?.touched && userForm.get('name')?.invalid">
        <p class="name" *ngIf="userForm.get('name')?.errors?.['required']">Name is required</p>
        <p class="name" *ngIf="userForm.get('name')?.errors?.['minlength']">Name should contains minimum 3 characters
        </p>
        <p class="name" *ngIf="userForm.get('name')?.errors?.['maxlength']">Maximum 10 characters allowed in name</p>
    </div>
    <label for="">Age:</label>
    <input type="number" formControlName="age">
    <div *ngIf="userForm.get('age')?.touched && userForm.get('age')?.invalid">
        <p class="name" *ngIf="userForm.get('age')?.errors?.['required']">Age is required</p>
        <p class="name" *ngIf="userForm.get('age')?.errors?.['min']">Minimum 0 years</p>
        <p class="name" *ngIf="userForm.get('age')?.errors?.['max']">Maximum allowed age is 100 years</p>
    </div>
    <label for="">Phone:</label>
    <input type="number" formControlName="phone">
    <div *ngIf="userForm.get('phone')?.touched && userForm.get('phone')?.invalid">
        <p class="name" *ngIf="userForm.get('phone')?.errors?.['required']">Phone number is required</p>
        <p class="name" *ngIf="userForm.get('phone')?.errors?.['min']">Minimum 10 digits allowed</p>
    </div>
    <label for="">Email:</label>
    <input type="email" formControlName="email">
    <div *ngIf="userForm.get('email')?.touched && userForm.get('email')?.invalid">
        <p class="name" *ngIf="userForm.get('email')?.errors?.['required']">Email required</p>
    </div>
    <div formGroupName="address" class="address">
        <label for="">City:</label>
        <input type="text" formControlName="city">
        <div *ngIf="userForm.get('address')?. get('city')?.touched && userForm.get('address')?.get('city')?.invalid">
            <p class="name" *ngIf="userForm.get('address')?.get('city')?.errors?.['required']">City is required</p>
        </div>
        <label for="">Pincode:</label>
        <input type="number" formControlName="pincode">
        <div *ngIf="userForm.get('address')?. get('pincode')?.touched && userForm.get('address')?.get('pincode')?.invalid">
            <p class="name" *ngIf="userForm.get('address')?.get('pincode')?.errors?.['required']">Pincode is required</p>
        </div>
                
    </div>
     <!-- Dynamic Form -->
      <div class="radio">
    <label for="">Type:</label>
    <input type="radio" name="type" value="Dayscholor" formControlName="type">
    <label>Dayscholor</label>
    <input type="radio" name="type" value="Residential" formControlName="type">
    <label for="">Residential</label>
    <br>
    
    <div *ngIf="userForm.get('type')?.value=='Dayscholor'">
        <label>Bus Fee:</label>
        <input type="number" formControlName="busfee">

        <div *ngIf="userForm.get('busfee')?.touched && userForm.get('busfee')?.invalid">
            <p class="name" *ngIf="userForm.get('busfee')?.errors?.['required']">Bus fee required</p>
            <p class="name" *ngIf="userForm.get('busfee')?.errors?.['min']">Minimum 10k fee required</p>
        </div>

        <br>
    </div>
    <div *ngIf="userForm.get('type')?.value=='Residential'">
        <label>Hostel Fee:</label>
        <input type="number" formControlName="hostelfee">
        <div *ngIf="userForm.get('hostelfee')?.touched && userForm.get('hostelfee')?.invalid">
            <p class="name" *ngIf="userForm.get('hostelfee')?.errors?.['required']">Hostel fee required</p>
            <p class="name" *ngIf="userForm.get('hostelfee')?.errors?.['min']">Minimum 15k fee required</p>
        </div>
        <br>
        
    </div>
    </div>
    <!-- Dynamic Form -->

    <div>
        <label for="">cards</label>
        <button (click)="addCard()">add card</button>
    </div>
    <br>
    <div formArrayName="cards">
        <div *ngFor="let card of cardsFormArray.controls; let i=index">
            <div formGroupName="{{i}}">
                <h3>card{{i+1}}</h3>
                <label>Number:</label>
                <input type="number" formControlName="number">
                <div *ngIf="cardsFormArray.controls[i].get('number')?.touched && cardsFormArray.controls[i].get('number')?.invalid">
                    <p class="name" *ngIf="cardsFormArray.controls[i].get('number')?.errors?.['required']">Card number is required</p>
                </div>
                <br>
                <label>Expiry:</label>
                <input type="month" formControlName="expiry">
                <div *ngIf="cardsFormArray.controls[i].get('expiry')?.touched && cardsFormArray.controls[i].get('expiry')?.invalid">
                    <p class="name" *ngIf="cardsFormArray.controls[i].get('expiry')?.errors?.['required']">Expiry date is required</p>
                </div>
                <br>
                <label>CVV:</label>
                <input type="number" formControlName="cvv">
                <div *ngIf="cardsFormArray.controls[i].get('cvv')?.touched && cardsFormArray.controls[i].get('cvv')?.invalid">
                    <p class="name" *ngIf="cardsFormArray.controls[i].get('cvv')?.errors?.['required']">CVV is required</p>
                </div>
                <br>
                <button (click)="deletecard(i)">deletecard</button>
                <hr>
            </div>
        </div>
    </div>
    <button (click)="submit()">Submit</button>
    <!-- <button [disabled]="userForm.invalid" (click)="submit()">Submit2</button> -->
</form>
</div>